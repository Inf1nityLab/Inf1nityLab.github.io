# Тестирование доступности Flutter Web

## Описание

Этот проект демонстрирует правильную реализацию доступности для Flutter Web с использованием:

1. **SemanticTextWidget** - универсальный текстовый виджет с семантикой
2. **AnnounceHelper** - система динамических объявлений через aria-live регион
3. **HTML renderer** - для корректной работы семантики

## Запуск проекта

```bash
flutter run -d chrome
```

## Тестирование с screen readers

### На macOS (VoiceOver)

1. Включите VoiceOver: `Cmd + F5`
2. Откройте проект в Chrome
3. Используйте `Tab` для навигации по элементам
4. Нажимайте кнопки и слушайте объявления

### На Windows (NVDA/JAWS)

1. Установите и запустите NVDA или JAWS
2. Откройте проект в Chrome
3. Используйте `Tab` для навигации
4. Нажимайте кнопки и слушайте объявления

### На Linux (Orca)

1. Установите и запустите Orca
2. Откройте проект в Chrome
3. Используйте `Tab` для навигации
4. Нажимайте кнопки и слушайте объявления

## Что тестировать

### 1. Семантика элементов

- **Заголовки** - должны быть распознаны как заголовки разных уровней
- **Кнопки** - должны быть объявлены как кнопки
- **Текст** - должен быть прочитан корректно

### 2. Динамические объявления

- **Счетчик** - при изменении значения должно объявляться новое значение
- **Кнопки объявлений** - должны озвучивать соответствующие сообщения
- **Приоритеты** - обычные (polite) и срочные (assertive) объявления

### 3. Навигация

- **Tab порядок** - логичная последовательность элементов
- **Фокус** - видимые индикаторы фокуса
- **Клавиатура** - все функции доступны с клавиатуры

## Технические детали

### AnnounceHelper

```dart
// Обычное объявление
AnnounceHelper.announcePolite('Сообщение');

// Срочное объявление
AnnounceHelper.announceUrgent('Важное сообщение!');
```

### SemanticTextWidget

```dart
// Заголовок
SemanticTextWidget(
  text: 'Заголовок',
  isHeading: true,
  headingLevel: 1,
)

// Кнопка
SemanticTextWidget(
  text: 'Кнопка',
  isButton: true,
  hint: 'Нажмите для действия',
)
```

### HTML renderer

В `web/index.html` настроен HTML renderer:

```javascript
engineInitializer.initializeEngine({
  renderer: "html"
})
```

## Ожидаемые результаты

1. **Screen reader читает заголовки** как заголовки, а не как обычный текст
2. **Кнопки объявляются** как кнопки с подсказками
3. **Динамические изменения** озвучиваются автоматически
4. **Навигация работает** логично и последовательно
5. **Фокус виден** и понятен пользователю

## Устранение проблем

### Если объявления не работают

1. Убедитесь, что используется HTML renderer
2. Проверьте, что AnnounceHelper.initialize() вызван в main()
3. Убедитесь, что screen reader включен

### Если семантика не работает

1. Проверьте, что используется HTML renderer, а не CanvasKit
2. Убедитесь, что SemanticTextWidget используется правильно
3. Проверьте, что aria-live регион создан

## Дополнительные ресурсы

- [Flutter Web Accessibility](https://docs.flutter.dev/development/platform-integration/web)
- [ARIA Live Regions](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions)
- [Screen Reader Testing](https://webaim.org/articles/screenreader_testing/)

